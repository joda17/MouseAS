<!--
    Mouse AS - Mouse Algorithms Simulator
    Copyright (C) 2016  Piotr PiÄ…tyszek

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<html>
	<head>
		<script>
			var data;
			var category
			function setup(d, c){
				data = d
				category = c;
			}
			function save(name){
				if(!name || name == "" || !data || !category)return;
				var struct = {};
				var loaded = localStorage.getItem("data")
				if(loaded){
					struct = JSON.parse(loaded);
				}
				if(!struct[category])struct[category] = {};
				struct[category][name] = data;
				localStorage.setItem("data", JSON.stringify(struct));
				window.close();
			}
		</script>
		<style>
			* {
				margin: 0;
				padding: 0;
			}
			input {
				width: 200px;
				height: 30px;
				display: block;
			}
			button {
				width: 200px;
				height: 30px;
				display: block;
			}
		</style>
	</head>
	<body>
		<input type="text" id="name">
		<button onclick="save(document.getElementById('name').value)">SAVE</button>
	</body>
</html>
